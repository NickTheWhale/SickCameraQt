\doxysection{Framegrabber.\+h}
\hypertarget{_framegrabber_8h_source}{}\label{_framegrabber_8h_source}\index{sickapi/src/Framegrabber.h@{sickapi/src/Framegrabber.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ note:\ Redistribution\ and\ use\ in\ source,\ with\ or\ without\ modification,\ are\ permitted.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ }}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Created:\ February\ 2023}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ }}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ SICK\ AG,\ Waldkirch}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ email:\ TechSupport0905@sick.de}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}VisionaryDataStream.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}FrameGrabberBase.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <thread>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevisionary}{visionary}}}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ DataType>}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classvisionary_1_1_frame_grabber}{FrameGrabber}}}
\DoxyCodeLine{00025\ \ \ \ \ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvisionary_1_1_frame_grabber}{FrameGrabber}}(\textcolor{keyword}{const}\ std::string\&\ hostname,\ std::uint16\_t\ port,\ std::uint64\_t\ timeoutMs)}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ :\ frameGrabberBase(hostname,\ port,\ timeoutMs)\ }
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \{\ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ frameGrabberBase.start(std::make\_shared<DataType>(),\ std::make\_shared<DataType>());\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvisionary_1_1_frame_grabber}{\string~FrameGrabber}}()\{\}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvisionary_1_1_frame_grabber_abc2ae2b260338fdd1df61989fc58eb65}{getNextFrame}}(std::shared\_ptr<DataType>\&\ pDataHandler,\ std::uint64\_t\ timeoutMs\ =\ 1000)}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (pDataHandler\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pDataHandler\ =\ std::make\_shared<DataType>();}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ pTypedDataHandler\ =\ std::move(std::dynamic\_pointer\_cast<VisionaryData>(pDataHandler));}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ retVal\ =\ frameGrabberBase.getNextFrame(pTypedDataHandler,\ timeoutMs);}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ pDataHandler\ =\ std::move(std::dynamic\_pointer\_cast<DataType>(pTypedDataHandler));}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retVal;}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classvisionary_1_1_frame_grabber_afd4ffd0efd86f0736ab9b4e4ce359ec1}{getCurrentFrame}}(std::shared\_ptr<DataType>\&\ pDataHandler)}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(pDataHandler\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pDataHandler\ =\ std::make\_shared<DataType>();}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ pTypedDataHandler\ =\ std::move(std::dynamic\_pointer\_cast<VisionaryData>(pDataHandler));}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ retVal\ =\ frameGrabberBase.getCurrentFrame(pTypedDataHandler);}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ pDataHandler\ =\ std::move(std::dynamic\_pointer\_cast<DataType>(pTypedDataHandler));}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ retVal;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classvisionary_1_1_frame_grabber_base}{FrameGrabberBase}}\ frameGrabberBase;}
\DoxyCodeLine{00066\ \ \ \ \ \};}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
